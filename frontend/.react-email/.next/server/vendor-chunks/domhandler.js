"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/domhandler";
exports.ids = ["vendor-chunks/domhandler"];
exports.modules = {

/***/ "(rsc)/./node_modules/domhandler/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/domhandler/lib/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __createBinding = (void 0) && (void 0).__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __exportStar = (void 0) && (void 0).__exportStar || function(m, exports1) {\n    for(var p in m)if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports1, p)) __createBinding(exports1, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.DomHandler = void 0;\nvar domelementtype_1 = __webpack_require__(/*! domelementtype */ \"(rsc)/./node_modules/domelementtype/lib/index.js\");\nvar node_js_1 = __webpack_require__(/*! ./node.js */ \"(rsc)/./node_modules/domhandler/lib/node.js\");\n__exportStar(__webpack_require__(/*! ./node.js */ \"(rsc)/./node_modules/domhandler/lib/node.js\"), exports);\n// Default options\nvar defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false\n};\nvar DomHandler = /** @class */ function() {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */ function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */ this.dom = [];\n        /** The root element for the DOM */ this.root = new node_js_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */ this.done = false;\n        /** Stack of open tags. */ this.tagStack = [\n            this.root\n        ];\n        /** A data node that is still being written to. */ this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */ this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function(parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function() {\n        this.dom = [];\n        this.root = new node_js_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [\n            this.root\n        ];\n        this.lastNode = null;\n        this.parser = null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function() {\n        if (this.done) return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function(error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function() {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB) this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function(name, attribs) {\n        var type = this.options.xmlMode ? domelementtype_1.ElementType.Tag : undefined;\n        var element = new node_js_1.Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function(data) {\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === domelementtype_1.ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        } else {\n            var node = new node_js_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function(data) {\n        if (this.lastNode && this.lastNode.type === domelementtype_1.ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_js_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function() {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function() {\n        var text = new node_js_1.Text(\"\");\n        var node = new node_js_1.CDATA([\n            text\n        ]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function() {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function(name, data) {\n        var node = new node_js_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function(error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        } else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function(node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    return DomHandler;\n}();\nexports.DomHandler = DomHandler;\nexports[\"default\"] = DomHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxlQUFlLElBQU1DLENBQUFBLE9BQU9DLE1BQU0sR0FBSSxTQUFTQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQzFGLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCLElBQUlHLE9BQU9QLE9BQU9RLHdCQUF3QixDQUFDTCxHQUFHQztJQUM5QyxJQUFJLENBQUNHLFFBQVMsVUFBU0EsT0FBTyxDQUFDSixFQUFFTSxVQUFVLEdBQUdGLEtBQUtHLFFBQVEsSUFBSUgsS0FBS0ksWUFBWSxHQUFHO1FBQ2pGSixPQUFPO1lBQUVLLFlBQVk7WUFBTUMsS0FBSztnQkFBYSxPQUFPVixDQUFDLENBQUNDLEVBQUU7WUFBRTtRQUFFO0lBQzlEO0lBQ0FKLE9BQU9jLGNBQWMsQ0FBQ1osR0FBR0csSUFBSUU7QUFDakMsSUFBTSxTQUFTTCxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQ3RCLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCRixDQUFDLENBQUNHLEdBQUcsR0FBR0YsQ0FBQyxDQUFDQyxFQUFFO0FBQ2hCLENBQUM7QUFDRCxJQUFJVyxlQUFlLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsWUFBWSxJQUFLLFNBQVNaLENBQUMsRUFBRWEsUUFBTztJQUNqRSxJQUFLLElBQUlDLEtBQUtkLEVBQUcsSUFBSWMsTUFBTSxhQUFhLENBQUNqQixPQUFPa0IsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0osVUFBU0MsSUFBSWxCLGdCQUFnQmlCLFVBQVNiLEdBQUdjO0FBQzNIO0FBQ0FqQiw4Q0FBNkM7SUFBRXFCLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RMLGtCQUFrQixHQUFHLEtBQUs7QUFDMUIsSUFB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SSxJQUFJLENBQUMzQyxPQUFPLENBQUNKLGdCQUFnQixFQUFFO1lBQy9Cb0MsS0FBS2MsVUFBVSxHQUFHLElBQUksQ0FBQ3RDLE1BQU0sQ0FBQ3NDLFVBQVU7UUFDNUM7UUFDQSxJQUFJLElBQUksQ0FBQzlDLE9BQU8sQ0FBQ0gsY0FBYyxFQUFFO1lBQzdCbUMsS0FBS2QsUUFBUSxHQUFHLElBQUksQ0FBQ1YsTUFBTSxDQUFDVSxRQUFRO1FBQ3hDO1FBQ0FxQixPQUFPTSxRQUFRLENBQUNqQixJQUFJLENBQUNJO1FBQ3JCLElBQUlZLGlCQUFpQjtZQUNqQlosS0FBS2UsSUFBSSxHQUFHSDtZQUNaQSxnQkFBZ0JJLElBQUksR0FBR2hCO1FBQzNCO1FBQ0FBLEtBQUtPLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNoQyxRQUFRLEdBQUc7SUFDcEI7SUFDQSxPQUFPaEI7QUFDWDtBQUNBTixrQkFBa0IsR0FBR007QUFDckJOLGtCQUFlLEdBQUdNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtZW1haWwtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2RvbWhhbmRsZXIvbGliL2luZGV4LmpzPzI5ODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRG9tSGFuZGxlciA9IHZvaWQgMDtcbnZhciBkb21lbGVtZW50dHlwZV8xID0gcmVxdWlyZShcImRvbWVsZW1lbnR0eXBlXCIpO1xudmFyIG5vZGVfanNfMSA9IHJlcXVpcmUoXCIuL25vZGUuanNcIik7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbm9kZS5qc1wiKSwgZXhwb3J0cyk7XG4vLyBEZWZhdWx0IG9wdGlvbnNcbnZhciBkZWZhdWx0T3B0cyA9IHtcbiAgICB3aXRoU3RhcnRJbmRpY2VzOiBmYWxzZSxcbiAgICB3aXRoRW5kSW5kaWNlczogZmFsc2UsXG4gICAgeG1sTW9kZTogZmFsc2UsXG59O1xudmFyIERvbUhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIENhbGxlZCBvbmNlIHBhcnNpbmcgaGFzIGNvbXBsZXRlZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBTZXR0aW5ncyBmb3IgdGhlIGhhbmRsZXIuXG4gICAgICogQHBhcmFtIGVsZW1lbnRDQiBDYWxsYmFjayB3aGVuZXZlciBhIHRhZyBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRG9tSGFuZGxlcihjYWxsYmFjaywgb3B0aW9ucywgZWxlbWVudENCKSB7XG4gICAgICAgIC8qKiBUaGUgZWxlbWVudHMgb2YgdGhlIERPTSAqL1xuICAgICAgICB0aGlzLmRvbSA9IFtdO1xuICAgICAgICAvKiogVGhlIHJvb3QgZWxlbWVudCBmb3IgdGhlIERPTSAqL1xuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgbm9kZV9qc18xLkRvY3VtZW50KHRoaXMuZG9tKTtcbiAgICAgICAgLyoqIEluZGljYXRlZCB3aGV0aGVyIHBhcnNpbmcgaGFzIGJlZW4gY29tcGxldGVkLiAqL1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgLyoqIFN0YWNrIG9mIG9wZW4gdGFncy4gKi9cbiAgICAgICAgdGhpcy50YWdTdGFjayA9IFt0aGlzLnJvb3RdO1xuICAgICAgICAvKiogQSBkYXRhIG5vZGUgdGhhdCBpcyBzdGlsbCBiZWluZyB3cml0dGVuIHRvLiAqL1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgLyoqIFJlZmVyZW5jZSB0byB0aGUgcGFyc2VyIGluc3RhbmNlLiBVc2VkIGZvciBsb2NhdGlvbiBpbmZvcm1hdGlvbi4gKi9cbiAgICAgICAgdGhpcy5wYXJzZXIgPSBudWxsO1xuICAgICAgICAvLyBNYWtlIGl0IHBvc3NpYmxlIHRvIHNraXAgYXJndW1lbnRzLCBmb3IgYmFja3dhcmRzLWNvbXBhdGliaWxpdHlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGVsZW1lbnRDQiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gZGVmYXVsdE9wdHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrICE9PSBudWxsICYmIGNhbGxiYWNrICE9PSB2b2lkIDAgPyBjYWxsYmFjayA6IG51bGw7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IGRlZmF1bHRPcHRzO1xuICAgICAgICB0aGlzLmVsZW1lbnRDQiA9IGVsZW1lbnRDQiAhPT0gbnVsbCAmJiBlbGVtZW50Q0IgIT09IHZvaWQgMCA/IGVsZW1lbnRDQiA6IG51bGw7XG4gICAgfVxuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9ucGFyc2VyaW5pdCA9IGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgfTtcbiAgICAvLyBSZXNldHMgdGhlIGhhbmRsZXIgYmFjayB0byBzdGFydGluZyBzdGF0ZVxuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9ucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZG9tID0gW107XG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBub2RlX2pzXzEuRG9jdW1lbnQodGhpcy5kb20pO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50YWdTdGFjayA9IFt0aGlzLnJvb3RdO1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBudWxsO1xuICAgIH07XG4gICAgLy8gU2lnbmFscyB0aGUgaGFuZGxlciB0aGF0IHBhcnNpbmcgaXMgZG9uZVxuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kb25lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnBhcnNlciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2FsbGJhY2sobnVsbCk7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2FsbGJhY2soZXJyb3IpO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25jbG9zZXRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgICAgIHZhciBlbGVtID0gdGhpcy50YWdTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53aXRoRW5kSW5kaWNlcykge1xuICAgICAgICAgICAgZWxlbS5lbmRJbmRleCA9IHRoaXMucGFyc2VyLmVuZEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRDQilcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudENCKGVsZW0pO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25vcGVudGFnID0gZnVuY3Rpb24gKG5hbWUsIGF0dHJpYnMpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLm9wdGlvbnMueG1sTW9kZSA/IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuVGFnIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgZWxlbWVudCA9IG5ldyBub2RlX2pzXzEuRWxlbWVudChuYW1lLCBhdHRyaWJzLCB1bmRlZmluZWQsIHR5cGUpO1xuICAgICAgICB0aGlzLmFkZE5vZGUoZWxlbWVudCk7XG4gICAgICAgIHRoaXMudGFnU3RhY2sucHVzaChlbGVtZW50KTtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9udGV4dCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBsYXN0Tm9kZSA9IHRoaXMubGFzdE5vZGU7XG4gICAgICAgIGlmIChsYXN0Tm9kZSAmJiBsYXN0Tm9kZS50eXBlID09PSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlRleHQpIHtcbiAgICAgICAgICAgIGxhc3ROb2RlLmRhdGEgKz0gZGF0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2l0aEVuZEluZGljZXMpIHtcbiAgICAgICAgICAgICAgICBsYXN0Tm9kZS5lbmRJbmRleCA9IHRoaXMucGFyc2VyLmVuZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBuZXcgbm9kZV9qc18xLlRleHQoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmFkZE5vZGUobm9kZSk7XG4gICAgICAgICAgICB0aGlzLmxhc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25jb21tZW50ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdE5vZGUgJiYgdGhpcy5sYXN0Tm9kZS50eXBlID09PSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkNvbW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdE5vZGUuZGF0YSArPSBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IG5vZGVfanNfMS5Db21tZW50KGRhdGEpO1xuICAgICAgICB0aGlzLmFkZE5vZGUobm9kZSk7XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBub2RlO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25jb21tZW50ZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uY2RhdGFzdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRleHQgPSBuZXcgbm9kZV9qc18xLlRleHQoXCJcIik7XG4gICAgICAgIHZhciBub2RlID0gbmV3IG5vZGVfanNfMS5DREFUQShbdGV4dF0pO1xuICAgICAgICB0aGlzLmFkZE5vZGUobm9kZSk7XG4gICAgICAgIHRleHQucGFyZW50ID0gbm9kZTtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IHRleHQ7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmNkYXRhZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9ucHJvY2Vzc2luZ2luc3RydWN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgbm9kZV9qc18xLlByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lLCBkYXRhKTtcbiAgICAgICAgdGhpcy5hZGROb2RlKG5vZGUpO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZXJyb3IsIHRoaXMuZG9tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLmFkZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy50YWdTdGFja1t0aGlzLnRhZ1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgcHJldmlvdXNTaWJsaW5nID0gcGFyZW50LmNoaWxkcmVuW3BhcmVudC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53aXRoU3RhcnRJbmRpY2VzKSB7XG4gICAgICAgICAgICBub2RlLnN0YXJ0SW5kZXggPSB0aGlzLnBhcnNlci5zdGFydEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2l0aEVuZEluZGljZXMpIHtcbiAgICAgICAgICAgIG5vZGUuZW5kSW5kZXggPSB0aGlzLnBhcnNlci5lbmRJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgaWYgKHByZXZpb3VzU2libGluZykge1xuICAgICAgICAgICAgbm9kZS5wcmV2ID0gcHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNTaWJsaW5nLm5leHQgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBEb21IYW5kbGVyO1xufSgpKTtcbmV4cG9ydHMuRG9tSGFuZGxlciA9IERvbUhhbmRsZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBEb21IYW5kbGVyO1xuIl0sIm5hbWVzIjpbIl9fY3JlYXRlQmluZGluZyIsIk9iamVjdCIsImNyZWF0ZSIsIm8iLCJtIiwiayIsImsyIiwidW5kZWZpbmVkIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9fZXNNb2R1bGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZXhwb3J0U3RhciIsImV4cG9ydHMiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidmFsdWUiLCJEb21IYW5kbGVyIiwiZG9tZWxlbWVudHR5cGVfMSIsInJlcXVpcmUiLCJub2RlX2pzXzEiLCJkZWZhdWx0T3B0cyIsIndpdGhTdGFydEluZGljZXMiLCJ3aXRoRW5kSW5kaWNlcyIsInhtbE1vZGUiLCJjYWxsYmFjayIsIm9wdGlvbnMiLCJlbGVtZW50Q0IiLCJkb20iLCJyb290IiwiRG9jdW1lbnQiLCJkb25lIiwidGFnU3RhY2siLCJsYXN0Tm9kZSIsInBhcnNlciIsIm9ucGFyc2VyaW5pdCIsIm9ucmVzZXQiLCJvbmVuZCIsImhhbmRsZUNhbGxiYWNrIiwib25lcnJvciIsImVycm9yIiwib25jbG9zZXRhZyIsImVsZW0iLCJwb3AiLCJlbmRJbmRleCIsIm9ub3BlbnRhZyIsIm5hbWUiLCJhdHRyaWJzIiwidHlwZSIsIkVsZW1lbnRUeXBlIiwiVGFnIiwiZWxlbWVudCIsIkVsZW1lbnQiLCJhZGROb2RlIiwicHVzaCIsIm9udGV4dCIsImRhdGEiLCJUZXh0Iiwibm9kZSIsIm9uY29tbWVudCIsIkNvbW1lbnQiLCJvbmNvbW1lbnRlbmQiLCJvbmNkYXRhc3RhcnQiLCJ0ZXh0IiwiQ0RBVEEiLCJwYXJlbnQiLCJvbmNkYXRhZW5kIiwib25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24iLCJQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24iLCJsZW5ndGgiLCJwcmV2aW91c1NpYmxpbmciLCJjaGlsZHJlbiIsInN0YXJ0SW5kZXgiLCJwcmV2IiwibmV4dCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/domhandler/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/domhandler/lib/node.js":
/*!*********************************************!*\
  !*** ./node_modules/domhandler/lib/node.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __extends = (void 0) && (void 0).__extends || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar __assign = (void 0) && (void 0).__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = __webpack_require__(/*! domelementtype */ \"(rsc)/./node_modules/domelementtype/lib/index.js\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */ var Node = /** @class */ function() {\n    function Node() {\n        /** Parent of the node */ this.parent = null;\n        /** Previous sibling */ this.prev = null;\n        /** Next sibling */ this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */ this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */ this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.parent;\n        },\n        set: function(parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.prev;\n        },\n        set: function(prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.next;\n        },\n        set: function(next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */ Node.prototype.cloneNode = function(recursive) {\n        if (recursive === void 0) {\n            recursive = false;\n        }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}();\nexports.Node = Node;\n/**\n * A node that contains some data.\n */ var DataNode = /** @class */ function(_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */ function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.data;\n        },\n        set: function(data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node);\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */ var Text = /** @class */ function(_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function() {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode);\nexports.Text = Text;\n/**\n * Comments within the document.\n */ var Comment = /** @class */ function(_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function() {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode);\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */ var ProcessingInstruction = /** @class */ function(_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function() {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode);\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */ var NodeWithChildren = /** @class */ function(_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */ function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */ get: function() {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */ get: function() {\n            return this.children.length > 0 ? this.children[this.children.length - 1] : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.children;\n        },\n        set: function(children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node);\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ function(_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function() {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren);\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */ var Document = /** @class */ function(_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function() {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren);\nexports.Document = Document;\n/**\n * An element within the DOM.\n */ var Element = /** @class */ function(_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */ function Element(name, attribs, children, type) {\n        if (children === void 0) {\n            children = [];\n        }\n        if (type === void 0) {\n            type = name === \"script\" ? domelementtype_1.ElementType.Script : name === \"style\" ? domelementtype_1.ElementType.Style : domelementtype_1.ElementType.Tag;\n        }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function() {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.name;\n        },\n        set: function(name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function() {\n            var _this = this;\n            return Object.keys(this.attribs).map(function(name) {\n                var _a, _b;\n                return {\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name]\n                };\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren);\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */ function isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */ function isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */ function isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */ function isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */ function isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */ function isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */ function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */ function cloneNode(node, recursive) {\n    if (recursive === void 0) {\n        recursive = false;\n    }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    } else if (isComment(node)) {\n        result = new Comment(node.data);\n    } else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function(child) {\n            return child.parent = clone_1;\n        });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    } else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function(child) {\n            return child.parent = clone_2;\n        });\n        result = clone_2;\n    } else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function(child) {\n            return child.parent = clone_3;\n        });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    } else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    } else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function(child) {\n        return cloneNode(child, true);\n    });\n    for(var i = 1; i < children.length; i++){\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvbm9kZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFlBQVksQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxTQUFTLElBQUs7SUFDeEMsSUFBSUMsZ0JBQWdCLFNBQVVDLENBQUMsRUFBRUMsQ0FBQztRQUM5QkYsZ0JBQWdCRyxPQUFPQyxjQUFjLElBQ2hDO1lBQUVDLFdBQVcsRUFBRTtRQUFDLGNBQWFDLFNBQVMsU0FBVUwsQ0FBQyxFQUFFQyxDQUFDO1lBQUlELEVBQUVJLFNBQVMsR0FBR0g7UUFBRyxLQUMxRSxTQUFVRCxDQUFDLEVBQUVDLENBQUM7WUFBSSxJQUFLLElBQUlLLEtBQUtMLEVBQUcsSUFBSUMsT0FBT0ssU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssSUFBSU4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUFFO1FBQ3BHLE9BQU9QLGNBQWNDLEdBQUdDO0lBQzVCO0lBQ0EsT0FBTyxTQUFVRCxDQUFDLEVBQUVDLENBQUM7UUFDakIsSUFBSSxPQUFPQSxNQUFNLGNBQWNBLE1BQU0sTUFDakMsTUFBTSxJQUFJUyxVQUFVLHlCQUF5QkMsT0FBT1YsS0FBSztRQUM3REYsY0FBY0MsR0FBR0M7UUFDakIsU0FBU1c7WUFBTyxJQUFJLENBQUNDLFdBQVcsR0FBR2I7UUFBRztRQUN0Q0EsRUFBRU8sU0FBUyxHQUFHTixNQUFNLE9BQU9DLE9BQU9ZLE1BQU0sQ0FBQ2IsS0FBTVcsQ0FBQUEsR0FBR0wsU0FBUyxHQUFHTixFQUFFTSxTQUFTLEVBQUUsSUFBSUssSUFBRztJQUN0RjtBQUNKO0FBQ0EsSUFBSUcsV0FBVyxDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV2IsT0FBT2MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVD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LHNCQUFzQm9DLEtBQUtkLElBQUksRUFBRWMsS0FBS2xCLElBQUk7UUFDaEUsSUFBSWtCLElBQUksQ0FBQyxTQUFTLElBQUksTUFBTTtZQUN4QlEsV0FBVyxDQUFDLFNBQVMsR0FBR1IsSUFBSSxDQUFDLFNBQVM7WUFDdENRLFdBQVcsQ0FBQyxhQUFhLEdBQUdSLElBQUksQ0FBQyxhQUFhO1lBQzlDUSxXQUFXLENBQUMsYUFBYSxHQUFHUixJQUFJLENBQUMsYUFBYTtRQUNsRDtRQUNBQyxTQUFTTztJQUNiLE9BQ0s7UUFDRCxNQUFNLElBQUlDLE1BQU0sd0JBQXdCQyxNQUFNLENBQUNWLEtBQUtoQixJQUFJO0lBQzVEO0lBQ0FpQixPQUFPM0IsVUFBVSxHQUFHMEIsS0FBSzFCLFVBQVU7SUFDbkMyQixPQUFPMUIsUUFBUSxHQUFHeUIsS0FBS3pCLFFBQVE7SUFDL0IsSUFBSXlCLEtBQUtXLGtCQUFrQixJQUFJLE1BQU07UUFDakNWLE9BQU9VLGtCQUFrQixHQUFHWCxLQUFLVyxrQkFBa0I7SUFDdkQ7SUFDQSxPQUFPVjtBQUNYO0FBQ0FuRCxpQkFBaUIsR0FBR0U7QUFDcEIsU0FBU2tELGNBQWNVLE1BQU07SUFDekIsSUFBSXhCLFdBQVd3QixPQUFPaEIsR0FBRyxDQUFDLFNBQVVTLEtBQUs7UUFBSSxPQUFPckQsVUFBVXFELE9BQU87SUFBTztJQUM1RSxJQUFLLElBQUk3RCxJQUFJLEdBQUdBLElBQUk0QyxTQUFTekMsTUFBTSxFQUFFSCxJQUFLO1FBQ3RDNEMsUUFBUSxDQUFDNUMsRUFBRSxDQUFDNEIsSUFBSSxHQUFHZ0IsUUFBUSxDQUFDNUMsSUFBSSxFQUFFO1FBQ2xDNEMsUUFBUSxDQUFDNUMsSUFBSSxFQUFFLENBQUM2QixJQUFJLEdBQUdlLFFBQVEsQ0FBQzVDLEVBQUU7SUFDdEM7SUFDQSxPQUFPNEM7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWVtYWlsLWNsaWVudC8uL25vZGVfbW9kdWxlcy9kb21oYW5kbGVyL2xpYi9ub2RlLmpzPzJhM2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2xvbmVOb2RlID0gZXhwb3J0cy5oYXNDaGlsZHJlbiA9IGV4cG9ydHMuaXNEb2N1bWVudCA9IGV4cG9ydHMuaXNEaXJlY3RpdmUgPSBleHBvcnRzLmlzQ29tbWVudCA9IGV4cG9ydHMuaXNUZXh0ID0gZXhwb3J0cy5pc0NEQVRBID0gZXhwb3J0cy5pc1RhZyA9IGV4cG9ydHMuRWxlbWVudCA9IGV4cG9ydHMuRG9jdW1lbnQgPSBleHBvcnRzLkNEQVRBID0gZXhwb3J0cy5Ob2RlV2l0aENoaWxkcmVuID0gZXhwb3J0cy5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBleHBvcnRzLkNvbW1lbnQgPSBleHBvcnRzLlRleHQgPSBleHBvcnRzLkRhdGFOb2RlID0gZXhwb3J0cy5Ob2RlID0gdm9pZCAwO1xudmFyIGRvbWVsZW1lbnR0eXBlXzEgPSByZXF1aXJlKFwiZG9tZWxlbWVudHR5cGVcIik7XG4vKipcbiAqIFRoaXMgb2JqZWN0IHdpbGwgYmUgdXNlZCBhcyB0aGUgcHJvdG90eXBlIGZvciBOb2RlcyB3aGVuIGNyZWF0aW5nIGFcbiAqIERPTS1MZXZlbC0xLWNvbXBsaWFudCBzdHJ1Y3R1cmUuXG4gKi9cbnZhciBOb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vZGUoKSB7XG4gICAgICAgIC8qKiBQYXJlbnQgb2YgdGhlIG5vZGUgKi9cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAvKiogUHJldmlvdXMgc2libGluZyAqL1xuICAgICAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgICAgICAvKiogTmV4dCBzaWJsaW5nICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIC8qKiBUaGUgc3RhcnQgaW5kZXggb2YgdGhlIG5vZGUuIFJlcXVpcmVzIGB3aXRoU3RhcnRJbmRpY2VzYCBvbiB0aGUgaGFuZGxlciB0byBiZSBgdHJ1ZS4gKi9cbiAgICAgICAgdGhpcy5zdGFydEluZGV4ID0gbnVsbDtcbiAgICAgICAgLyoqIFRoZSBlbmQgaW5kZXggb2YgdGhlIG5vZGUuIFJlcXVpcmVzIGB3aXRoRW5kSW5kaWNlc2Agb24gdGhlIGhhbmRsZXIgdG8gYmUgYHRydWUuICovXG4gICAgICAgIHRoaXMuZW5kSW5kZXggPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsIFwicGFyZW50Tm9kZVwiLCB7XG4gICAgICAgIC8vIFJlYWQtd3JpdGUgYWxpYXNlcyBmb3IgcHJvcGVydGllc1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgcGFyZW50fS5cbiAgICAgICAgICogW0RPTSBzcGVjXShodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcpLWNvbXBhdGlibGUgYWxpYXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwgXCJwcmV2aW91c1NpYmxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgcHJldn0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwcmV2KSB7XG4gICAgICAgICAgICB0aGlzLnByZXYgPSBwcmV2O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCBcIm5leHRTaWJsaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMge0BsaW5rIG5leHR9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgbm9kZSwgYW5kIG9wdGlvbmFsbHkgaXRzIGNoaWxkcmVuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlY3Vyc2l2ZSBDbG9uZSBjaGlsZCBub2RlcyBhcyB3ZWxsLlxuICAgICAqIEByZXR1cm5zIEEgY2xvbmUgb2YgdGhlIG5vZGUuXG4gICAgICovXG4gICAgTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKHJlY3Vyc2l2ZSkge1xuICAgICAgICBpZiAocmVjdXJzaXZlID09PSB2b2lkIDApIHsgcmVjdXJzaXZlID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIGNsb25lTm9kZSh0aGlzLCByZWN1cnNpdmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vZGU7XG59KCkpO1xuZXhwb3J0cy5Ob2RlID0gTm9kZTtcbi8qKlxuICogQSBub2RlIHRoYXQgY29udGFpbnMgc29tZSBkYXRhLlxuICovXG52YXIgRGF0YU5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERhdGFOb2RlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBjb250ZW50IG9mIHRoZSBkYXRhIG5vZGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEYXRhTm9kZShkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhTm9kZS5wcm90b3R5cGUsIFwibm9kZVZhbHVlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMge0BsaW5rIGRhdGF9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEYXRhTm9kZTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5EYXRhTm9kZSA9IERhdGFOb2RlO1xuLyoqXG4gKiBUZXh0IHdpdGhpbiB0aGUgZG9jdW1lbnQuXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRleHQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5UZXh0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGV4dDtcbn0oRGF0YU5vZGUpKTtcbmV4cG9ydHMuVGV4dCA9IFRleHQ7XG4vKipcbiAqIENvbW1lbnRzIHdpdGhpbiB0aGUgZG9jdW1lbnQuXG4gKi9cbnZhciBDb21tZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21tZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbW1lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5Db21tZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21tZW50LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29tbWVudDtcbn0oRGF0YU5vZGUpKTtcbmV4cG9ydHMuQ29tbWVudCA9IENvbW1lbnQ7XG4vKipcbiAqIFByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb25zLCBpbmNsdWRpbmcgZG9jIHR5cGVzLlxuICovXG52YXIgUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGF0YSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkRpcmVjdGl2ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvY2Vzc2luZ0luc3RydWN0aW9uLnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvY2Vzc2luZ0luc3RydWN0aW9uO1xufShEYXRhTm9kZSkpO1xuZXhwb3J0cy5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb247XG4vKipcbiAqIEEgYE5vZGVgIHRoYXQgY2FuIGhhdmUgY2hpbGRyZW4uXG4gKi9cbnZhciBOb2RlV2l0aENoaWxkcmVuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2RlV2l0aENoaWxkcmVuLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiBDaGlsZHJlbiBvZiB0aGUgbm9kZS4gT25seSBjZXJ0YWluIG5vZGUgdHlwZXMgY2FuIGhhdmUgY2hpbGRyZW4uXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9kZVdpdGhDaGlsZHJlbihjaGlsZHJlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlV2l0aENoaWxkcmVuLnByb3RvdHlwZSwgXCJmaXJzdENoaWxkXCIsIHtcbiAgICAgICAgLy8gQWxpYXNlc1xuICAgICAgICAvKiogRmlyc3QgY2hpbGQgb2YgdGhlIG5vZGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuY2hpbGRyZW5bMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZVdpdGhDaGlsZHJlbi5wcm90b3R5cGUsIFwibGFzdENoaWxkXCIsIHtcbiAgICAgICAgLyoqIExhc3QgY2hpbGQgb2YgdGhlIG5vZGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVXaXRoQ2hpbGRyZW4ucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgY2hpbGRyZW59LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTm9kZVdpdGhDaGlsZHJlbjtcbn0oTm9kZSkpO1xuZXhwb3J0cy5Ob2RlV2l0aENoaWxkcmVuID0gTm9kZVdpdGhDaGlsZHJlbjtcbnZhciBDREFUQSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ0RBVEEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ0RBVEEoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5DREFUQTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ0RBVEEucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDREFUQTtcbn0oTm9kZVdpdGhDaGlsZHJlbikpO1xuZXhwb3J0cy5DREFUQSA9IENEQVRBO1xuLyoqXG4gKiBUaGUgcm9vdCBub2RlIG9mIHRoZSBkb2N1bWVudC5cbiAqL1xudmFyIERvY3VtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEb2N1bWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEb2N1bWVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlJvb3Q7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERvY3VtZW50LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRG9jdW1lbnQ7XG59KE5vZGVXaXRoQ2hpbGRyZW4pKTtcbmV4cG9ydHMuRG9jdW1lbnQgPSBEb2N1bWVudDtcbi8qKlxuICogQW4gZWxlbWVudCB3aXRoaW4gdGhlIERPTS5cbiAqL1xudmFyIEVsZW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVsZW1lbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgdGFnLCBlZy4gYGRpdmAsIGBzcGFuYC5cbiAgICAgKiBAcGFyYW0gYXR0cmlicyBPYmplY3QgbWFwcGluZyBhdHRyaWJ1dGUgbmFtZXMgdG8gYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gQ2hpbGRyZW4gb2YgdGhlIG5vZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRWxlbWVudChuYW1lLCBhdHRyaWJzLCBjaGlsZHJlbiwgdHlwZSkge1xuICAgICAgICBpZiAoY2hpbGRyZW4gPT09IHZvaWQgMCkgeyBjaGlsZHJlbiA9IFtdOyB9XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG5hbWUgPT09IFwic2NyaXB0XCJcbiAgICAgICAgICAgID8gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5TY3JpcHRcbiAgICAgICAgICAgIDogbmFtZSA9PT0gXCJzdHlsZVwiXG4gICAgICAgICAgICAgICAgPyBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlN0eWxlXG4gICAgICAgICAgICAgICAgOiBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlRhZzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjaGlsZHJlbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIF90aGlzLmF0dHJpYnMgPSBhdHRyaWJzO1xuICAgICAgICBfdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwibm9kZVR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCBcInRhZ05hbWVcIiwge1xuICAgICAgICAvLyBET00gTGV2ZWwgMSBhbGlhc2VzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBuYW1lfS5cbiAgICAgICAgICogW0RPTSBzcGVjXShodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcpLWNvbXBhdGlibGUgYWxpYXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwiYXR0cmlidXRlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmF0dHJpYnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5hdHRyaWJzW25hbWVdLFxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IChfYSA9IF90aGlzW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbbmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeDogKF9iID0gX3RoaXNbXCJ4LWF0dHJpYnNQcmVmaXhcIl0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltuYW1lXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEVsZW1lbnQ7XG59KE5vZGVXaXRoQ2hpbGRyZW4pKTtcbmV4cG9ydHMuRWxlbWVudCA9IEVsZW1lbnQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaXMgYSBgRWxlbWVudGAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc1RhZyhub2RlKSB7XG4gICAgcmV0dXJuICgwLCBkb21lbGVtZW50dHlwZV8xLmlzVGFnKShub2RlKTtcbn1cbmV4cG9ydHMuaXNUYWcgPSBpc1RhZztcbi8qKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbm9kZSBoYXMgdGhlIHR5cGUgYENEQVRBYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ0RBVEEobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuQ0RBVEE7XG59XG5leHBvcnRzLmlzQ0RBVEEgPSBpc0NEQVRBO1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgVGV4dGAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc1RleHQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuVGV4dDtcbn1cbmV4cG9ydHMuaXNUZXh0ID0gaXNUZXh0O1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgQ29tbWVudGAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0NvbW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuQ29tbWVudDtcbn1cbmV4cG9ydHMuaXNDb21tZW50ID0gaXNDb21tZW50O1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgUHJvY2Vzc2luZ0luc3RydWN0aW9uYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50eXBlID09PSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkRpcmVjdGl2ZTtcbn1cbmV4cG9ydHMuaXNEaXJlY3RpdmUgPSBpc0RpcmVjdGl2ZTtcbi8qKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbm9kZSBoYXMgdGhlIHR5cGUgYFByb2Nlc3NpbmdJbnN0cnVjdGlvbmAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0RvY3VtZW50KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50eXBlID09PSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlJvb3Q7XG59XG5leHBvcnRzLmlzRG9jdW1lbnQgPSBpc0RvY3VtZW50O1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyBjaGlsZHJlbiwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGhhc0NoaWxkcmVuKG5vZGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsIFwiY2hpbGRyZW5cIik7XG59XG5leHBvcnRzLmhhc0NoaWxkcmVuID0gaGFzQ2hpbGRyZW47XG4vKipcbiAqIENsb25lIGEgbm9kZSwgYW5kIG9wdGlvbmFsbHkgaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSByZWN1cnNpdmUgQ2xvbmUgY2hpbGQgbm9kZXMgYXMgd2VsbC5cbiAqIEByZXR1cm5zIEEgY2xvbmUgb2YgdGhlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNsb25lTm9kZShub2RlLCByZWN1cnNpdmUpIHtcbiAgICBpZiAocmVjdXJzaXZlID09PSB2b2lkIDApIHsgcmVjdXJzaXZlID0gZmFsc2U7IH1cbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChpc1RleHQobm9kZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IFRleHQobm9kZS5kYXRhKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBDb21tZW50KG5vZGUuZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVGFnKG5vZGUpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJlY3Vyc2l2ZSA/IGNsb25lQ2hpbGRyZW4obm9kZS5jaGlsZHJlbikgOiBbXTtcbiAgICAgICAgdmFyIGNsb25lXzEgPSBuZXcgRWxlbWVudChub2RlLm5hbWUsIF9fYXNzaWduKHt9LCBub2RlLmF0dHJpYnMpLCBjaGlsZHJlbik7XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiAoY2hpbGQucGFyZW50ID0gY2xvbmVfMSk7IH0pO1xuICAgICAgICBpZiAobm9kZS5uYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xvbmVfMS5uYW1lc3BhY2UgPSBub2RlLm5hbWVzcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZVtcIngtYXR0cmlic05hbWVzcGFjZVwiXSkge1xuICAgICAgICAgICAgY2xvbmVfMVtcIngtYXR0cmlic05hbWVzcGFjZVwiXSA9IF9fYXNzaWduKHt9LCBub2RlW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZVtcIngtYXR0cmlic1ByZWZpeFwiXSkge1xuICAgICAgICAgICAgY2xvbmVfMVtcIngtYXR0cmlic1ByZWZpeFwiXSA9IF9fYXNzaWduKHt9LCBub2RlW1wieC1hdHRyaWJzUHJlZml4XCJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBjbG9uZV8xO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NEQVRBKG5vZGUpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJlY3Vyc2l2ZSA/IGNsb25lQ2hpbGRyZW4obm9kZS5jaGlsZHJlbikgOiBbXTtcbiAgICAgICAgdmFyIGNsb25lXzIgPSBuZXcgQ0RBVEEoY2hpbGRyZW4pO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gKGNoaWxkLnBhcmVudCA9IGNsb25lXzIpOyB9KTtcbiAgICAgICAgcmVzdWx0ID0gY2xvbmVfMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNEb2N1bWVudChub2RlKSkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSByZWN1cnNpdmUgPyBjbG9uZUNoaWxkcmVuKG5vZGUuY2hpbGRyZW4pIDogW107XG4gICAgICAgIHZhciBjbG9uZV8zID0gbmV3IERvY3VtZW50KGNoaWxkcmVuKTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIChjaGlsZC5wYXJlbnQgPSBjbG9uZV8zKTsgfSk7XG4gICAgICAgIGlmIChub2RlW1wieC1tb2RlXCJdKSB7XG4gICAgICAgICAgICBjbG9uZV8zW1wieC1tb2RlXCJdID0gbm9kZVtcIngtbW9kZVwiXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBjbG9uZV8zO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0RpcmVjdGl2ZShub2RlKSkge1xuICAgICAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBuZXcgUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5vZGUubmFtZSwgbm9kZS5kYXRhKTtcbiAgICAgICAgaWYgKG5vZGVbXCJ4LW5hbWVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bXCJ4LW5hbWVcIl0gPSBub2RlW1wieC1uYW1lXCJdO1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bXCJ4LXB1YmxpY0lkXCJdID0gbm9kZVtcIngtcHVibGljSWRcIl07XG4gICAgICAgICAgICBpbnN0cnVjdGlvbltcIngtc3lzdGVtSWRcIl0gPSBub2RlW1wieC1zeXN0ZW1JZFwiXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBpbnN0cnVjdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCB5ZXQ6IFwiLmNvbmNhdChub2RlLnR5cGUpKTtcbiAgICB9XG4gICAgcmVzdWx0LnN0YXJ0SW5kZXggPSBub2RlLnN0YXJ0SW5kZXg7XG4gICAgcmVzdWx0LmVuZEluZGV4ID0gbm9kZS5lbmRJbmRleDtcbiAgICBpZiAobm9kZS5zb3VyY2VDb2RlTG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXN1bHQuc291cmNlQ29kZUxvY2F0aW9uID0gbm9kZS5zb3VyY2VDb2RlTG9jYXRpb247XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmNsb25lTm9kZSA9IGNsb25lTm9kZTtcbmZ1bmN0aW9uIGNsb25lQ2hpbGRyZW4oY2hpbGRzKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gY2hpbGRzLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNsb25lTm9kZShjaGlsZCwgdHJ1ZSk7IH0pO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRyZW5baV0ucHJldiA9IGNoaWxkcmVuW2kgLSAxXTtcbiAgICAgICAgY2hpbGRyZW5baSAtIDFdLm5leHQgPSBjaGlsZHJlbltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufVxuIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjbG9uZU5vZGUiLCJoYXNDaGlsZHJlbiIsImlzRG9jdW1lbnQiLCJpc0RpcmVjdGl2ZSIsImlzQ29tbWVudCIsImlzVGV4dCIsImlzQ0RBVEEiLCJpc1RhZyIsIkVsZW1lbnQiLCJEb2N1bWVudCIsIkNEQVRBIiwiTm9kZVdpdGhDaGlsZHJlbiIsIlByb2Nlc3NpbmdJbnN0cnVjdGlvbiIsIkNvbW1lbnQiLCJUZXh0IiwiRGF0YU5vZGUiLCJOb2RlIiwiZG9tZWxlbWVudHR5cGVfMSIsInJlcXVpcmUiLCJwYXJlbnQiLCJwcmV2IiwibmV4dCIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJyZWN1cnNpdmUiLCJfc3VwZXIiLCJkYXRhIiwiX3RoaXMiLCJ0eXBlIiwiRWxlbWVudFR5cGUiLCJuYW1lIiwiRGlyZWN0aXZlIiwiY2hpbGRyZW4iLCJfYSIsIlJvb3QiLCJhdHRyaWJzIiwiU2NyaXB0IiwiU3R5bGUiLCJUYWciLCJrZXlzIiwibWFwIiwiX2IiLCJuYW1lc3BhY2UiLCJwcmVmaXgiLCJub2RlIiwicmVzdWx0IiwiY2xvbmVDaGlsZHJlbiIsImNsb25lXzEiLCJmb3JFYWNoIiwiY2hpbGQiLCJjbG9uZV8yIiwiY2xvbmVfMyIsImluc3RydWN0aW9uIiwiRXJyb3IiLCJjb25jYXQiLCJzb3VyY2VDb2RlTG9jYXRpb24iLCJjaGlsZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/domhandler/lib/node.js\n");

/***/ })

};
;